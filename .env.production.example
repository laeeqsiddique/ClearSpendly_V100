# =================================================================
# FLOWVYA PRODUCTION ENVIRONMENT CONFIGURATION
# =================================================================
# 
# CRITICAL SECURITY NOTES:
# 1. NEVER commit this file with real values to version control
# 2. Each service should have proper fallbacks to prevent build failures
# 3. Use Railway's environment variable UI to set these values
# 4. All client-side variables must start with NEXT_PUBLIC_
# 
# Required for basic functionality: ‚≠ê
# Optional for enhanced features: üìã
# Security critical: üîí
# 
# =================================================================

# =================================================================
# CORE APPLICATION SETTINGS
# =================================================================

# ‚≠ê Application URL - MUST be your production domain
NEXT_PUBLIC_APP_URL=https://flowvya.com

# ‚≠ê Node Environment
NODE_ENV=production

# Railway Platform Detection (auto-set by Railway)
RAILWAY_ENVIRONMENT=production

# Build optimization
NODE_OPTIONS=--max-old-space-size=4096

# =================================================================
# üîí SUPABASE CONFIGURATION (REQUIRED)
# =================================================================

# ‚≠ê Get these from your Supabase project dashboard
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# For database management and migrations
SUPABASE_PROJECT_REF=your-project-ref
SUPABASE_ACCESS_TOKEN=your-supabase-access-token
SUPABASE_DB_PASSWORD=your-secure-db-password

# =================================================================
# üîí AUTHENTICATION CONFIGURATION
# =================================================================

# ‚≠ê Better Auth (Required for authentication)
BETTER_AUTH_SECRET=your-32-character-minimum-secret-key-here
BETTER_AUTH_URL=https://flowvya.com

# üìã Google OAuth (Optional - enables Google Sign-in)
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret

# üìã Microsoft OAuth (Optional - for Outlook integration)
MICROSOFT_CLIENT_ID=your-microsoft-client-id
MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret

# =================================================================
# üí≥ PAYMENT PROVIDER CONFIGURATION
# =================================================================

# üìã Stripe Configuration (Optional - for Stripe payments)
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# üìã PayPal Configuration (Optional - for PayPal payments)
PAYPAL_CLIENT_ID=your-paypal-live-client-id
PAYPAL_CLIENT_SECRET=your-paypal-live-client-secret
PAYPAL_BUSINESS_EMAIL=business@flowvya.com

# üìã Polar Configuration (Optional - alternative payment processor)
POLAR_ACCESS_TOKEN=your-polar-access-token
POLAR_SUCCESS_URL=/success?checkout_id={CHECKOUT_ID}
POLAR_WEBHOOK_SECRET=your-polar-webhook-secret

# =================================================================
# ü§ñ AI/ML SERVICES CONFIGURATION
# =================================================================

# üìã OpenAI API (Optional - for enhanced OCR and AI features)
OPENAI_API_KEY=sk-proj-your-openai-api-key-here

# üìã Local AI Configuration (Optional - for cost optimization)
OLLAMA_API_URL=http://localhost:11434
OLLAMA_MODEL=mistral:latest

# =================================================================
# üìß EMAIL SERVICE CONFIGURATION
# =================================================================

# üìã Resend Email Service (Optional - for invoice emails)
RESEND_API_KEY=re_your-resend-api-key
RESEND_FROM_EMAIL=invoices@flowvya.com

# =================================================================
# üìä ANALYTICS & MONITORING
# =================================================================

# üìã PostHog Analytics (Optional)
NEXT_PUBLIC_POSTHOG_KEY=phc_your-posthog-key
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

# üìã Error Monitoring (Add your preferred service)
# SENTRY_DSN=your-sentry-dsn
# SENTRY_AUTH_TOKEN=your-sentry-auth-token

# =================================================================
# üìÅ FILE STORAGE CONFIGURATION
# =================================================================

# üìã UploadThing (Optional - for file uploads)
UPLOADTHING_SECRET=sk_live_your-uploadthing-secret
UPLOADTHING_APP_ID=your-uploadthing-app-id

# =================================================================
# üîê SECURITY & AUTOMATION
# =================================================================

# ‚≠ê CRON Job Security (Required for automated tasks)
CRON_SECRET=your-cron-job-secret-key

# üìã Deployment Security
AUTO_ROLLBACK=true
ENABLE_MIGRATION_SAFETY_CHECK=true

# =================================================================
# üéõÔ∏è FEATURE FLAGS & APP CONFIGURATION
# =================================================================

# Application behavior settings
NEXT_PUBLIC_PRIVACY_MODE_ENABLED=true
NEXT_PUBLIC_MAX_FILE_SIZE=10485760
NEXT_PUBLIC_ALLOWED_FILE_TYPES=image/jpeg,image/jpg,image/png,application/pdf

# Debug settings (should be false in production)
NEXT_PUBLIC_DEBUG=false

# =================================================================
# üöÄ DEPLOYMENT PLATFORM CONFIGURATION
# =================================================================

# Railway specific settings (auto-configured by Railway)
# RAILWAY_STATIC_URL=your-app.railway.app
# RAILWAY_PRIVATE_DOMAIN=your-private-domain

# Vercel Configuration (if using Vercel instead of Railway)
# VERCEL_TOKEN=your-vercel-token
# VERCEL_ORG_ID=your-org-id
# VERCEL_PROJECT_ID=your-project-id

# =================================================================
# üìã SUBSCRIPTION TIER CONFIGURATION (OPTIONAL)
# =================================================================

# Polar/Stripe subscription tiers
NEXT_PUBLIC_STARTER_TIER=starter
NEXT_PUBLIC_STARTER_SLUG=starter-plan

# =================================================================
# üîß DEVELOPMENT & TESTING (PRODUCTION SHOULD BE FALSE/DISABLED)
# =================================================================

# These should be disabled in production
BUILDING=false
CI=false

# =================================================================
# CONFIGURATION VALIDATION
# =================================================================
# 
# CRITICAL REQUIREMENTS:
# ‚úÖ NEXT_PUBLIC_SUPABASE_URL - Required for database connection
# ‚úÖ NEXT_PUBLIC_SUPABASE_ANON_KEY - Required for client auth
# ‚úÖ SUPABASE_SERVICE_ROLE_KEY - Required for server operations
# ‚úÖ BETTER_AUTH_SECRET - Required for authentication (min 32 chars)
# ‚úÖ NEXT_PUBLIC_APP_URL - Required for OAuth redirects and webhooks
# 
# SECURITY CHECKLIST:
# üîí All secrets are properly secured in Railway
# üîí No API keys are exposed to client-side code
# üîí CORS is properly configured for your domain
# üîí Webhook endpoints are secured with proper secrets
# üîí Database service role key is only used server-side
# 
# OPTIONAL BUT RECOMMENDED:
# üìß Email service for invoice delivery
# üí≥ At least one payment provider
# üìä Analytics for user behavior tracking
# ü§ñ AI service for enhanced OCR capabilities
# 
# =================================================================